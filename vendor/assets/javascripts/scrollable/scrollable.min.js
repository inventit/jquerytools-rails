/*
 
 jQuery Tools 1.2.7 Scrollable - New wave UI design

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/scrollable.html

 Since: March 2008
 Date:    Tue Feb 28 10:05:12 2012 -0800 
*/
(function(e){function r(f,c){var b=e(c);return b.length<2?b:f.parent().find(c)}function v(f,c){var b=this,p=f.add(b),g=f.children(),l=0,j=c.vertical;k||(k=b);if(g.length>1)g=e(c.items,f);if(c.size>1)c.circular=false;e.extend(b,{getConf:function(){return c},getIndex:function(){return l},getSize:function(){return b.getItems().size()},getNaviButtons:function(){return m.add(n)},getRoot:function(){return f},getItemWrap:function(){return g},getItems:function(){return g.find(c.item).not("."+c.clonedClass)},
move:function(a,d){return b.seekTo(l+a,d)},next:function(a){return b.move(c.size,a)},prev:function(a){return b.move(-c.size,a)},begin:function(a){return b.seekTo(0,a)},end:function(a){return b.seekTo(b.getSize()-1,a)},focus:function(){return k=b},addItem:function(a){a=e(a);if(c.circular){g.children().last().before(a);g.children().first().replaceWith(a.clone().addClass(c.clonedClass))}else{g.append(a);n.removeClass("disabled")}p.trigger("onAddItem",[a]);return b},seekTo:function(a,d,h){a.jquery||(a*=
1);if(c.circular&&a===0&&l==-1&&d!==0)return b;if(!c.circular&&a<0||a>b.getSize()||a<-1)return b;var i=a;if(a.jquery)a=b.getItems().index(a);else i=b.getItems().eq(a);var s=e.Event("onBeforeSeek");if(!h){p.trigger(s,[a,d]);if(s.isDefaultPrevented()||!i.length)return b}i=j?{top:-i.position().top}:{left:-i.position().left};l=a;k=b;if(d===undefined)d=c.speed;g.animate(i,d,c.easing,h||function(){p.trigger("onSeek",[a])});return b}});e.each(["onBeforeSeek","onSeek","onAddItem"],function(a,d){e.isFunction(c[d])&&
e(b).on(d,c[d]);b[d]=function(h){h&&e(b).on(d,h);return b}});if(c.circular){var t=b.getItems().slice(-1).clone().prependTo(g),u=b.getItems().eq(1).clone().appendTo(g);t.add(u).addClass(c.clonedClass);b.onBeforeSeek(function(a,d,h){if(!a.isDefaultPrevented())if(d==-1){b.seekTo(t,h,function(){b.end(0)});return a.preventDefault()}else d==b.getSize()&&b.seekTo(u,h,function(){b.begin(0)})});var q=f.parents().add(f).filter(function(){if(e(this).css("display")==="none")return true});if(q.length){q.show();
b.seekTo(0,0,function(){});q.hide()}else b.seekTo(0,0,function(){})}var m=r(f,c.prev).click(function(a){a.stopPropagation();b.prev()}),n=r(f,c.next).click(function(a){a.stopPropagation();b.next()});if(!c.circular){b.onBeforeSeek(function(a,d){setTimeout(function(){if(!a.isDefaultPrevented()){m.toggleClass(c.disabledClass,d<=0);n.toggleClass(c.disabledClass,d>=b.getSize()-1)}},1)});c.initialIndex||m.addClass(c.disabledClass)}b.getSize()<2&&m.add(n).addClass(c.disabledClass);c.mousewheel&&e.fn.mousewheel&&
f.mousewheel(function(a,d){if(c.mousewheel){b.move(d<0?1:-1,c.wheelSpeed||50);return false}});if(c.touch){var o={};g[0].ontouchstart=function(a){a=a.touches[0];o.x=a.clientX;o.y=a.clientY};g[0].ontouchmove=function(a){if(a.touches.length==1&&!g.is(":animated")){var d=a.touches[0],h=o.x-d.clientX;d=o.y-d.clientY;b[j&&d>0||!j&&h>0?"next":"prev"]();a.preventDefault()}}}c.keyboard&&e(document).on("keydown.scrollable",function(a){if(!(!c.keyboard||a.altKey||a.ctrlKey||a.metaKey||e(a.target).is(":input")))if(!(c.keyboard!=
"static"&&k!=b)){var d=a.keyCode;if(j&&(d==38||d==40)){b.move(d==38?-1:1);return a.preventDefault()}if(!j&&(d==37||d==39)){b.move(d==37?-1:1);return a.preventDefault()}}});c.initialIndex&&b.seekTo(c.initialIndex,0,function(){})}e.tools=e.tools||{version:"1.2.7"};e.tools.scrollable={conf:{activeClass:"active",circular:false,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:true,mousewheel:false,next:".next",prev:".prev",size:1,speed:400,
vertical:false,touch:true,wheelSpeed:0}};var k;e.fn.scrollable=function(f){var c=this.data("scrollable");if(c)return c;f=e.extend({},e.tools.scrollable.conf,f);this.each(function(){c=new v(e(this),f);e(this).data("scrollable",c)});return f.api?c:this}})(jQuery);
