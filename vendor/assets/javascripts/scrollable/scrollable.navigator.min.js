/*
 
 jQuery Tools 1.2.7 / Scrollable Navigator

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/scrollable/navigator.html

 Since: September 2009
 Date:    Tue Feb 28 10:05:12 2012 -0800 
*/
(function(e){function p(b,g){var h=e(g);return h.length<2?h:b.parent().find(g)}var m=e.tools.scrollable;m.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,idPrefix:null,history:false}};e.fn.navigator=function(b){if(typeof b=="string")b={navi:b};b=e.extend({},m.navigator.conf,b);var g;this.each(function(){function h(a,c,f){d.seekTo(c);f.preventDefault();n&&history.pushState({i:c},"")}function i(){return j.find(b.naviItem||"> *")}function o(a){var c=e("<"+(b.naviItem||
"a")+"/>").click(function(f){h(e(this),a,f)});a===0&&c.addClass(k);b.indexed&&c.text(a+1);b.idPrefix&&c.attr("id",b.idPrefix+a);return c.appendTo(j)}var d=e(this).data("scrollable"),j=b.navi.jquery?b.navi:p(d.getRoot(),b.navi),q=d.getNaviButtons(),k=b.activeClass,n=b.history&&!!history.pushState,l=d.getConf().size;if(d)g=d;d.getNaviButtons=function(){return q.add(j)};if(n){history.pushState({i:0},"");e(window).on("popstate",function(a){(a=a.originalEvent.state)&&d.seekTo(a.i)})}i().length?i().each(function(a){e(this).click(function(c){h(e(this),
a,c)})}):e.each(d.getItems(),function(a){a%l==0&&o(a)});d.onBeforeSeek(function(a,c){setTimeout(function(){if(!a.isDefaultPrevented()){var f=c/l,r=i().eq(f);r.length&&i().removeClass(k).eq(f).addClass(k)}},1)});d.onAddItem(function(a,c){a=d.getItems().index(c);a%l==0&&o(a)})});return b.api?g:this}})(jQuery);
